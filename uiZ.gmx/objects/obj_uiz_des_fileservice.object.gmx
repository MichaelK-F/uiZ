<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///SET DEVELOPMENT MODE
develop=0
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///initialise ui
uiz_executecmdinit()
pop=0
runpop=0
secondpop=0
continuebutton=0
retrybutton=0
uizreturnno=0
uizreturnyes=0
popwindow=0
uiz_init()
///set the loading screen
draw_set_font(uiz_fnt_dp_15)
//create frame
var c=obj_uiZ_controller.id;
loadingf=uiz_frame_create()
loadingf.width=min(uiz_getposx_simple(5,dp),c.width)
loadingf.height=min(uiz_getposy_simple(3,dp),c.height)
uiz_setwindowsize(loadingf.width,loadingf.height)
loadingf.posinframex=uiz_center
loadingf.posinframey=uiz_center
uiz_fixframepos(loadingf)
startgradient=instance_create(0,0,obj_uiZ_gradientroundrect)
uiz_setparent(startgradient,loadingf)
startgradient.posinframex=uiz_fill
startgradient.posinframey=uiz_fill
startgradient.color1=c_white
startgradient.color2=c_ltgray
startgradient.outline=0
startgradient.depth=5
uiz_fixgeneralpos(startgradient)
logosprite=instance_create(0,0,obj_uiZ_sprite)
logosprite.sprite_index=spr_uiz_designerlogo;
lsv=sprite_get_width(spr_uiz_designerlogo)/sprite_get_height(spr_uiz_designerlogo)
uiz_setparent(logosprite,loadingf)
logosprite.width=loadingf.width/2
logosprite.height=loadingf.width/2/lsv
logosprite.posinframex=uiz_center
logosprite.posinframey=fc
logosprite.setpointy=uiz_middle
logosprite.posvaly=0.25
logosprite.depth=-5
uiz_fixgeneralpos(logosprite)

loadcirc=instance_create(0,0,obj_uiZ_loadingcircle)
uiz_setparent(loadcirc,loadingf)
loadcirc.width=50
loadcirc.height=50
loadcirc.posinframex=uiz_center
loadcirc.posinframey=fc
loadcirc.setpointy=uiz_middle
loadcirc.posvaly=0.70
loadcirc.depth=-5 
uiz_fixgeneralpos(loadcirc)


</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///create the error textobject
error="0"
errtxt=instance_create(0,0,obj_uiZ_drawtext)
uiz_setparent(errtxt,loadingf)
errtxt.posinframex=fc
errtxt.setpointx=uiz_middle
errtxt.posvalx=0.5;
errtxt.posinframey=px
errtxt.posvaly=loadcirc.ly+15
errtxt.text="applying changes to your project files..."
errtxt.depth=-5
//errtxt.setpointy=uiz_
uiz_fixgeneralpos(errtxt)
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///gather some information
directory=uiz_findappdata()
if string_char_at(directory,string_length(directory))="\" then{udirectory=string_copy(directory,1,string_length(directory)-1)}else{udirectory=directory}
//appdata=uiz_findappdata()
//if string_char_at(appdata,string_length(appdata))="\" then{uappdata=string_copy(appdata,1,string_length(appdata)-1)}else{uappdata=appdata}
//dbm(uiz_fileexists("T:\uiz.ini"))
if uiz_fileexists(environment_get_variable("LOCALAPPDATA")+"\uizdatafile.ini")=1 then{
uiz_executecmd('robocopy "'+environment_get_variable("LOCALAPPDATA")+'" "'+udirectory+'" "uizdatafile.ini" /COPY:DAT')
}else{
continueload=0
pop=uiz_popup_ok("ERROR: Cant find: "+environment_get_variable("LOCALAPPDATA")+"\uizdatafile.ini#Are all acces permissions set the right way?#Did you manually and/or unintentionally open this program?#Did the uiZ designer really started this program itself?","fileerror",1)
runpop=1
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//start the checks on game maker
alarm[1]=3
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>pop=uiz_popup_ok("file transfering process completed!#You may now restart your game maker project.","Completed!",1)
runpop=1
errtxt.text="file transfering process completed!#You may now restart your game maker project."
uiz_fixgeneralpos(errtxt)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string> ///apply changes
//sdbm("4:1")
if copyfile&gt;=ds_list_size(c) then{
//sdbm("4:2",csz,copyfile)
copyfile=0
alarm[5]=1
}else{
//sdbm("4:3")
var file=c[| copyfile];

originalfile=path+file
if string_char_at(path,string_length(path))="\" then{originalpath=string_copy(path,1,string_length(path)-1)}else{originalpath=path}
errtxt.text="copying file: "+file
uiz_fixgeneralpos(errtxt)
//sdbm("4:4")
//sdbm(file)
if uiz_fileexists(originalfile) then{
if file="uizdesignerobjectdata.ini" then{
uiz_copyfilewin(originalpath+"\"+file,gmx+file)
sdbm(originalpath+"\"+file,gmx+file)
copyfile++
alarm[4]=1
}else{
//sdbm("4:5")
//uiz_executecmd('robocopy "'+originalpath+'" "'+"T:\hi"+'" "'+file+'" /COPY:DAT')
//check what type of file.
var sl=string_length(file)
//find second last point
var pointsfound=0;
var extension="no extension";
for(var i=sl;i&gt;=1;i--){
if string_char_at(file,i)="." then{pointsfound++;
if pointsfound=2 then{extension=string_copy(file,i+1,sl-i-4)}
}
}
//sdbm(extension)
switch(extension){
case "object":
//file is an object
uiz_copyfilewin(originalpath+"\"+file,gmx+"objects\"+file)
sdbm("copying",originalpath+"\"+file,"to",gmx+"objects\"+file)
copyfile++
alarm[4]=1
break;
case "project":
//file is a project
uiz_copyfilewin(originalpath+"\"+file,gmx+file)
sdbm(originalpath+"\"+file,gmx+file)
copyfile++
alarm[4]=1
break;
default:
//file is unidentified.
pop=uiz_popup_ok("The type of file '"+string(file)+"' with extension '"+extension+"' cannot be identified#Uiz cannot identifie whether this is an object, script, or project file.","filetypeerror",1)
runpop=5
break;
}

//
/*
//sdbm(string_copy(file,sl-10,11))
if string_copy(file,sl-10,11)=".object.gmx" then{
//file is an object
uiz_copyfilewin(originalpath+"\"+file,"T:\hi\objects\"+file)
//sdbm('robocopy "'+path+'" "'+"T:\hi"+'" "'+file+'" /COPY:DAT')
copyfile++
alarm[4]=1
}else{
//sdbm(string_copy(file,sl-11,12))
if string_copy(file,sl-11,12)=".project.gmx" then{
//file is a script
}else{
//file is unidentified.
pop=uiz_popup_ok("The type of file '"+string(file)+"' cannot be identified#Uiz cannot identifie whether this is an object, script, or project file.","filetypeerror",1)
runpop=5
}
}
*/
}
}else{
pop=uiz_popup_ok("The file '"+string(file)+"' cannot be found. Do you still want to continue?#Changes may already have been made.#You might want to restore a backup","fileerror",1)
runpop=1
//}
}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///check files
if copyfile&gt;=ds_list_size(c) then{
copyfile=0
alarm[4]=1
}else{
var file=c[| copyfile];
originalfile=path+file
errtxt.text="checking file: "+file
uiz_fixgeneralpos(errtxt)
sdbm(originalfile,uiz_fileexists(originalfile))
copyfile++
if uiz_fileexists(originalfile) then{
alarm[3]=1
}else{
pop=uiz_popup_yesno("The file '"+string(file)+"' cannot be found. Do you still want to continue?#No changes have been made yet.","File Error",0)
runpop=4
}

}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///gather data and list of things to change
errtxt.text="loading files..."
uiz_fixgeneralpos(errtxt)
if file_exists("uizdatafile.ini") then{
ini_open("uizdatafile.ini")

cdat=ini_read_string("project","c","")
if cdat="" then{
pop=uiz_popup_ok("An error occured loading files:#the file ds_list is empty","error",1)
runpop=1
}else{
c=ds_list_create();
ds_list_read(c,cdat)
copyfile=0
csz=ds_list_size(cdat)
path=ini_read_string("project","path","")
gmx=ini_read_string("project","gmx","")
gmxfile=ini_read_string("project","gmxfile","")
name=ini_read_string("project","name","")
time=ini_read_real("project","time",0)
if uiz_direxists(gmx)=1 then{
if uiz_direxists(gmx+"objects\")=1 then{
if uiz_direxists(gmx+"scripts\")=1 then{
//sdbm(gmxfile,uiz_fileexists(gmxfile))
if uiz_fileexists(gmxfile)=1 then{
if (date_current_datetime()-time)&lt;0.001 then{
var time=string(date_get_day(time))+"-"+string(date_get_month(time))+"-"+string(date_get_year(time))+"  "+string(date_get_hour(time))+":"+string(date_get_minute(time))+":"+string(date_get_second(time));
pop=uiz_popup_yesno("The specified changes have been speciefied a while ago on:#"+time+"#Do you still want to continue?","it's been a while",0)
runpop=4
}else{
alarm[3]=1}
}else{
pop=uiz_popup_ok("An error occured loading files:#the file '"+gmxfile+"' doesn't exist.","error",1)
runpop=1
}
}else{
pop=uiz_popup_ok("An error occured loading files:#the script directory '"+gmx+"scripts\' doesn't exist.","error",1)
runpop=1
}
}else{
pop=uiz_popup_ok("An error occured loading files:#the object directory '"+gmx+"objects\' doesn't exist.","error",1)
runpop=1
}
}else{
pop=uiz_popup_ok("An error occured loading files:#the directory '"+gmx+"' doesn't exist.","error",1)
runpop=1
}
}
ini_close()
}else{
pop=uiz_popup_ok("An error occured loading files:#uizdatafile.ini doesn't exists or it has been copied wrongly.","error",1)
runpop=1
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///run checks on game maker
errtxt.text="running checks on game maker"
uiz_fixgeneralpos(errtxt)
gmrunning=uiz_executebat('"uiz\checkrunning.bat" GameMaker-Studio.exe ')
if gmrunning=1 and develop=0 then{
pop=uiz_popup_yesno("Game maker: Studio is still running.
It is advised to close it, else errors may occur.
if you have a diffrent game maker project open than "+game_project_name+"
but dont have the "+game_project_name+" project itself open, you should be fine.
If you do have "+game_project_name+" open in game maker, please close it
","error",1) 
pop.depth=-1000
continuebutton=uizreturnno
retrybutton=uizreturnyes
popwindow=uizreturnwindow
uizreturnno.text="continue"
uizreturnyes.text="retry"
//uiz_fixgeneralpos(uizreturnno)
//uiz_fixgeneralpos(uizreturnyes)
uiz_fixgeneralpos(pop)
uiz_fixchildren(pop,1)
runpop=2;}else{
alarm[2]=1
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>lrunpop=runpop
switch(lrunpop){
case 0:break;
case 1:
if !instance_exists(pop) then{game_end()}
break;
case 2:
if instance_exists(secondpop) and secondpop.destroy&lt;=0 then{
runpop=3
}
if instance_exists(continuebutton) and continuebutton.kmouseover=2 then{
//continue pressed
//alarm[2]=1
//uiz_destroyobject(pop)
if !instance_exists(secondpop) then{
secondpop=uiz_popup_yesno("Are you sure you want to continue?#your data is your responsibity.##Continue?","non-foolproof warning",0)
uizreturnno.color=c_green
uizreturnyes.color=c_red
uizdocontinue=uizreturnyes
uiznotcontinue=uizreturnno
runpop=3
}
}else{
if instance_exists(retrybutton) and retrybutton.kmouseover=2 then{
//retry pressed
alarm[1]=40
uiz_destroyobject_animation(popwindow,uiz_cubic_in,uiz_cubic_out,uiz_zero,0.1)
uiz_destroyobject_animation(pop,uiz_zero,uiz_zero,uiz_sin_inout,0.1)
runpop=0
}}
break;
case 3:
if instance_exists(uiznotcontinue) and uiznotcontinue.kmouseover=2 then{
uiz_destroyobject_animation(secondpop,uiz_cubic_in,uiz_cubic_out,uiz_zero,0.1)
runpop=2
//uiz_destroyobject_animation(uizreturnwindow,uiz_cubic_in,uiz_cubic_out,uiz_zero,0.1)
//uiz_destroyobject_animation(pop,uiz_zero,uiz_zero,uiz_sin_inout,0.1)
}
if instance_exists(uizdocontinue) and uizdocontinue.kmouseover=2 then{
uiz_destroyobject_animation(secondpop,uiz_cubic_in,uiz_cubic_out,uiz_zero,0.1)
uiz_destroyobject_animation(popwindow,uiz_cubic_in,uiz_cubic_out,uiz_zero,0.1)
uiz_destroyobject_animation(pop,uiz_zero,uiz_zero,uiz_sin_inout,0.1)
alarm[2]=10
}
break;
case 4:
if instance_exists(uizreturnno) and uizreturnno.kmouseover=2 then{
game_end();
}
if instance_exists(uizreturnyes) and uizreturnyes.kmouseover=2 then{
uiz_destroyobject_animation(pop,uiz_zero,uiz_zero,uiz_sin_inout,0.1)
alarm[3]=10
}
break;
case 5:
if !instance_exists(pop) then{runpop=0; alarm[4]=3; copyfile++;}
break;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
